
Context for PR #3214555104
Primary language: Python

PR title:
Add function signature breaking change detector

PR body:
<details><summary>&#x1F6E0 DevTools &#x1F6E0</summary>
<p>

[![Open in GitHub Codespaces](https://github.com/codespaces/badge.svg)](https://codespaces.new/harupy/mlflow/pull/16658?quickstart=1)

#### Install mlflow from this PR

```
# mlflow
pip install git+https://github.com/mlflow/mlflow.git@refs/pull/16658/merge
# mlflow-skinny
pip install git+https://github.com/mlflow/mlflow.git@refs/pull/16658/merge#subdirectory=skinny
```

For Databricks, use the following command:

```
%s
...

- [ ] `rn/bug-fix` - A user-facing bug fix worth mentioning in the release notes
- [ ] `rn/documentation` - A user-facing documentation change worth mentioning in the release notes

#### Should this PR be included in the next patch release?

- [ ] Yes (this PR will be cherry-picked and included in the next patch release)
- [x] No (this PR will be included in the next minor release)

ðŸ¤– Generated with [Claude Code](https://claude.ai/code)

Co-Authored-By: Claude <noreply@anthropic.com>

Diff summary:
.github/workflows/lint.yml
@@ -36,6 +36,10 @@ jobs:
     if: github.event_name != 'pull_request' || github.event.pull_request.draft == false
     steps:
       - uses: actions/checkout@11bd71901bbe5b1630ceea73d27597364c9af683 #
...
      uv run --isolated --no-project --with pytest==8.4.0 --with ./dev/clint \
             pytest --confcutdir=dev/clint dev/clint
+
+      - run: |
+          python dev/check_function_signatures.py
dev/check_function_signatures.py
@@ -0,0 +1,383 @@
+from __future__ import annotations
+
+import argparse
+import ast
+import os
+import subprocess
+import sys
+from dataclasses import dataclass
+from pathlib import Path
+from typing
...
   args = parse_args()
+    errors = compare_signatures(args.base_branch)
+    for error in errors:
+        print(error.format(github=is_github_actions()))
+
+
+if __name__ == "__main__":
+    main()
tests/dev/test_check_function_signatures.py
@@ -0,0 +1,230 @@
+import ast
+
+from dev.check_function_signatures import check_signature_compatibility
+
+
+def test_no_changes():
+    old_code = "def func(a, b=1): pass"
+    new_code = "def func(
...
code)
+    errors = check_signature_compatibility(old_tree.body[0], new_tree.body[0])
+
+    assert len(errors) == 1
+    assert "Positional param order/name changed: 'a' -> 'x'." in errors[0].message

First failing CI snippet:


Top review comments:
LGTM! Thanks Haru!
Another case that we could add as a follow-up: the default value of an existing parameter is changed.
Sometimes we do this on-purpose, but worth flagging it in case it's not intentional :)
---
This PR is **the best effort** to prevent accidentally introducing breaking changes.
---
Could we also check if the newly added param has a default value of None?
---
Is this job a blocker? e.g. we might remove a parameter if it's announced as deprecated for one stable version?
---
Never mind, noticed it's non-blocking! 
---
We can ignore keyword only arguments. For example, the following change is not breaking:

Changing:

```python
def f(*, a=1, b=2):
    pass
```

to:

```python
def f(*, a=1, c=3, b=2):
    pass
```
---
Good catch. I'll add a check :)
---
```suggestion
          python dev/check_function_signatures.py
```
---
Could we add tests?
---
> Could we add tests?


We could, but I think manual testing should be fine. It's a bit tricky to test this.

---
> Another case that we could add as a follow-up: the default value of an existing parameter is changed.
Sometimes we do this on-purpose, but worth flagging it in case it's not intentional :)

Good point. I'm not sure if we need to flag this since that's not an **obvious** critical breaking change.

Commit messages (for context):
Add function signature check

Signed-off-by: harupy <17039389+harupy@users.noreply.github.com>
